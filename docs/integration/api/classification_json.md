# API Variant Classification JSON

Retrieving classification data by JSON is possible, but it is expect that the [Variant Classification Download](../downloads/downloads) will offer a format more friendly to your curation system e.g. VCF, MVL.

If the format you need is not available, contact us and we'll see if we can add it.

An example of the result of a GET or POST below

```json
{
    "id": 31,
    "meta": {
        "lab_record_id": "x77",
        "institution_name": "Example Pathology",
        "lab_id": "example/unit_1",
        "lab_name": "Example Unit 1",
        "title": "Example Unit 1 31",
        "version": 1544864360.852882,
        "can_write": true,
        "can_write_latest": true,
        "flag_collection": 13,
        "has_changes": true,
        "last_edited": 1553238219.242146
    },
    "allele": {
        "clingen_allele_id": "CA396457842",
        "genome_builds": {
            "GRCh38": {
                "variant_coordinate": "10:87957955 C>T",
                "g_hgvs": "NC_000010.11:g.87957955C>T",
                "c_hgvs": "NM_000314.4(PTEN):c.737C>T",
                "variant_id": 3326581
            },
            "GRCh37": {
                "variant_coordinate": "10:89717712 C>T",
                "g_hgvs": "NC_000010.10:g.89717712C>T",
                "c_hgvs": "NM_000314.4(PTEN):c.737C>T",
                "variant_id": 2414891
            }
        }
    },
    "publish": "logged_in_users",
    "data": {
        "condition": {
            "value": "OMIM:219700",
            "db_refs": [
                {"db": "OMIM", "id": "OMIM: 219700",
                "idx": "219700", "url": "http://www.omim.org/entry/219700",
                "summary": "CYSTIC FIBROSIS; CF"}
            ]
        },
        "gnomad_af": {
            "value": 0.002,
            "explain": "gnomAD 2.1.1"
        },
        "c_hgvs": {
            "value": "NM_000314.4(PTEN):c.737C>T"
        },
        "g_hgvs": {
            "value": "NC_000010.11:g.87957955C>T"
        },
        "sample": {
            "value": "blood"
        },
        "zygosity": {
            "value": "heteroplasmic",
            "note": "xyz"
        }
    },
    "messages": [
        {
            "key": "clinical_significance",
            "code": "mandatory",
            "message": "Missing mandatory value",
            "severity": "error"
        }
    ],
}
```
## Top Level

|key|meaning|
|---|-------|
|id|This is the Shariant ID, referred to as `rid` in other contexts. The value is unique regardless of lab.|
|meta|Details about the state of the record independant of the data|
|allele|Information about the variant as determined by Shariant in different builds|
|publish|The publish level of the classification|
|data|Is present by default on a GET but not on a POST. The complete set of evidence saved against this record.|
|messages|Any validation messages associated with the data of the record.|

## Allele

|key|meaning|
|---|-------|
|clingen_allele_id|ID of the cross genome-build allele as known by ClinGen|
|(genome build)|Shariant will attempt to generate a Chr37 and Chr38 record for each variant, the details of which will be found under the keys "GRCh37" and "GRCh38"|
|c_hgvs|The normalised c.hgvs as determined by Shariant|
|g_hgvs|The normalised g.hgvs as determined by Shariant|
|variant|Chromosome, Position, Ref and Alt|
|variant_id|Shariant's internal database ID for this record (It will not be meaningful outside of Shariant)|

## Data

|key|meaning|
|---|-------|
|(key_name)|There's a list of pre-defined keys with pre-defined types, see [Evidence Keys](../evidence_keys/overview.html)|
|value|The value of this evidence key, not guaranteed to be a valid value (but invalid values will have an associated error in messages)|
|note|Arbitrary text that can be associated with any evidence key on a single record|
|explain|Details about how the source lab uses this key, it might be a specific interpretation of ACMG criteria or notes about a database version|
|db_refs|These are automatically generated by Shariant after parsing text looking for certain patterns, see [External References](external_references.html)|

## Meta

|key|meaning|
|---|-------|
|can_write|Can the current user perform modification operations on this record. Note if the record was requested with a version, can_write will always be false.|
|can_write_latest|If you are viewing a classification at a specific version, would the user be able to edit the working copy for this classification.|
|flag_collection|Used internally within Shariant, please ignore.|
|has_changes|True if there are changes on the record that aren't in the latest published version|
|institution_name|English friendly name of the institution/organisation which the lab belongs to.|
|lab_id|How the lab should be referred to via API. Will be in the form of instiution_id/lab_part_id|
|lab_name|English friendly name of the lab which the record belongs to.|
|lab_record_id|The ID the lab associated with this record.|
|last_edited|The date (in UNIX time) when the working copy of the record was last edited.|
|title|English friendly title of the record. Does not refer to the variant or the classification.|
|version|The version we're looking at. It will be the UNIX time when the record was edited before it was submitted, NOT the time it was submitted. e.g. if you edited the record on Jan 1st and submitted it on Feb 2nd, the version will be the UNIX time for Jan 1st|
